;/*FB_PKG_DELIM*/

__d("CometFullUFIRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_recruiting_group",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentListRenderer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_feedback"},{args:null,kind:"FragmentSpread",name:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback"}],storageKey:null}],type:"FullUFIRenderer",abstractKey:null};e.exports=a}),null);
__d("CometFullUFIRenderer_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometFullUFIRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometFullUFIRenderer.react",["CometChooseWhoCanCommentRetrictionNoticeWrapper.react","CometFeedARIAProperties.react","CometFullUFIRenderer_renderer.graphql","CometFullUFIRenderer_shareable.graphql","CometFullUFIRenderer_story.graphql","CometRefineRef","CometRelay","CometRouteParams","CometUFICommentListRenderer.react","CometUFIConversationGuideLoggingProvider.react","CometUFIConversationGuideUtils","CometUFIDetachableComposerContext","CometUFIFunnelLoggerConstants","CometUFIQPLInstanceKeyContext","CometUFIRealtimeRoot.react","CometUFISummaryAndActions.react","CometUFIVisibilityContext","clearTimeout","cometGetKeyCommandConfig","react","requireDeferred","setTimeout","unrecoverableViolation","useBoolean","useKeyCommands","useQPLInstanceKey","useTriggeredStoryCTAHandler","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useContext,o=e.useEffect,p=e.useMemo,q=e.useRef,r=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometFullUFIRenderer.react");e=l.forwardRef(a);function a(a,e){var f=a.feedbackSource,g=a.feedLocation,k=a.focusCommentID,t=a.isTextOnlyStory,u=a.narrow,v=a.onActorSelected,w=a.renderer,x=a.shareable,y=a.story;a=a.storyRenderLocation;w=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFullUFIRenderer_renderer.graphql"),w);var z=w==null?void 0:w.feedback;if(z==null)throw c("unrecoverableViolation")("CometFullUFIRenderer: expected a valid feedback object, got null","ufi2");w=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFullUFIRenderer_shareable.graphql"),x);x=d("CometRelay").useFragment(j!==void 0?j:j=b("CometFullUFIRenderer_story.graphql"),y);var A=q();y=c("useTriggeredStoryCTAHandler")();var B=y[0],C=(y=(y=z.associated_group)==null?void 0:y.is_recruiting_group)!=null?y:!1;y=d("CometRouteParams").useRouteParams();var D=y.multi_permalinks;y=y.story_id;var E=(D=D)!=null?D:y;D=c("useBoolean")(!0);var F=D.setTrue,G=D.toggle,H=D.value;y=n(c("CometUFIDetachableComposerContext"));var I=y.focusComposer,J=m(function(){g==="DEDICATED_COMMENTING_SURFACE"?I&&I():G()},[g,I,G]),K=m(function(){var a;H||F();(a=A.current)==null?void 0:a.focusComposer();B("COMMENT_BUTTON_TAP")},[F,H,B]);D=p(function(){return z.can_viewer_comment===!0?[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","commentStory",K)]:[]},[z.can_viewer_comment,K]);c("useKeyCommands")(D,!0);var L=c("useQPLInstanceKey")();o(function(){C&&E!==z.recruiting_group_unencoded_id&&J();return function(){r.onReady(function(a){return a.endSuccess(L)})}},[L,C,J,E,z]);var M=n(c("CometFeedARIAProperties.react"));y=p(function(){return M.commentCountTargetProps==null||H==null?M:babelHelpers["extends"]({},M,{commentCountTargetProps:babelHelpers["extends"]({},M.commentCountTargetProps,{"aria-expanded":H})})},[M,H]);return l.jsx(c("CometUFIRealtimeRoot.react"),{enabled:z.is_eligible_for_real_time_updates===!0,children:l.jsx(c("CometUFIQPLInstanceKeyContext").Provider,{value:L,children:l.jsx(s,{children:l.jsx(c("CometUFIConversationGuideLoggingProvider.react"),{callerID:d("CometUFIConversationGuideUtils").CALLER_ID,children:l.jsxs(c("CometFeedARIAProperties.react").Provider,{value:y,children:[l.jsx(c("CometUFISummaryAndActions.react"),{feedLocation:g,feedback:z,feedbackSource:f,isTextOnlyStory:t,onActorSelected:v,onClickCommentsCount:J,onCommentClick:K,ref:e,renderLocation:a,shareable:(D=w)!=null?D:null,story:(y=x)!=null?y:null}),l.jsx(c("CometChooseWhoCanCommentRetrictionNoticeWrapper.react"),{feedback:z,shouldShowBottomBorder:!1,shouldShowTopBorder:!0}),H&&l.jsx(c("CometUFICommentListRenderer.react"),{feedLocation:g,feedback:z,feedbackSource:f,focusCommentID:k,listRef:c("CometRefineRef")(A),narrow:u,storyRenderLocation:a})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";a=e;function s(a){a=a.children;var b=q(!0),e=q(null),f=n(c("CometUFIQPLInstanceKeyContext")),g=c("useVisibilityObserver")({onHidden:m(function(){c("clearTimeout")(e.current),b.current=!1},[]),onVisible:m(function(){b.current=!0,r.onReady(function(a){e.current=c("setTimeout")(function(){a.start(f)},d("CometUFIFunnelLoggerConstants").COMET_UFI_FUNNEL_LOGGER_START_DELAY)})},[f])});return l.jsx(c("CometUFIVisibilityContext").Provider,{value:b,children:l.jsx("div",{ref:g,children:a})})}s.displayName=s.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFullUFIRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],b={kind:"Variable",name:"location",variableName:"feedLocation"},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFullUFIRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:a,kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{alias:null,args:[b,{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_recruiting_group",storageKey:null},c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},c,{alias:null,args:a,kind:"ScalarField",name:"is_eligible_for_enhanced_comment_updates",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_synced_qa_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},c],storageKey:null},{alias:null,args:[b,{kind:"Literal",name:"supported",value:"4AxN2k"}],concreteType:null,kind:"LinkedField",name:"comment_list_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPI_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPI",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPIPermalink_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPIPermalink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPIMediaViewer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPIMediaViewer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPITahoe_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPITahoe",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPITahoeWithLiveVOD_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPITahoeWithLiveVOD",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPIWorkplaceKnowledgeNote_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPIWorkplaceKnowledgeNote",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPIBizInbox_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPIBizInbox",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForMediaViewerReply_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForMediaViewerReply",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"lYqLT"}],concreteType:null,kind:"LinkedField",name:"comet_ufi_summary_and_actions_renderer",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFIDefaultSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"DefaultCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFILiveVideoSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"LiveVideoCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUnauthenticatedUFISummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"UnauthenticatedUCometUFISummaryAndActionsRenderer",abstractKey:null}],storageKey:'comet_ufi_summary_and_actions_renderer(supported:"lYqLT")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_moderation_filter_restriction_notice",plural:!1,selections:[{args:null,documentName:"CometChooseWhoCanCommentRetrictionNoticeWrapper_feedback",fragmentName:"CometUFICommentModerationFilterSetNotice_moderationFilter",fragmentPropName:"moderationFilter",kind:"ModuleImport"}],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);