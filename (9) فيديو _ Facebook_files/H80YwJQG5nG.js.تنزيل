;/*FB_PKG_DELIM*/

__d("useContentCollectionCreateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6196548540362275"}),null);
__d("useContentCollectionCreateMutation.graphql",["useContentCollectionCreateMutation_facebookRelayOperation","SaveCollectionsFeatureParityComet.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"contributorRoles"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e=[{kind:"Variable",name:"data",variableName:"input"}],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"useContentCollectionCreateMutation",selections:[{alias:null,args:e,concreteType:"ContentCollectionCreateResponsePayload",kind:"LinkedField",name:"content_collection_create",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[f,{args:null,kind:"FragmentSpread",name:"CometSaveLeftRailListItem_collection"}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SaveGeminiHeaderTabs_saverInfo"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,d,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__SaveCollectionsFeatureParityCometrelayprovider"}],kind:"Operation",name:"useContentCollectionCreateMutation",selections:[{alias:null,args:e,concreteType:"ContentCollectionCreateResponsePayload",kind:"LinkedField",name:"content_collection_create",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f,{kind:"TypeDiscriminator",abstractKey:"__isContentCollection"},{alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"collection_thumbnail_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__SaveCollectionsFeatureParityCometrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Variable",name:"roles",variableName:"contributorRoles"}],kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[g],storageKey:null},f],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collection_followers_count",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfoToSaveListsConnection",kind:"LinkedField",name:"save_lists",plural:!1,selections:[{alias:null,args:null,concreteType:"SaveList",kind:"LinkedField",name:"nodes",plural:!0,selections:[g,f],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useContentCollectionCreateMutation_facebookRelayOperation"),metadata:{},name:"useContentCollectionCreateMutation",operationKind:"mutation",text:null,providedVariables:{__relay_internal__pv__SaveCollectionsFeatureParityCometrelayprovider:b("SaveCollectionsFeatureParityComet.relayprovider")}}}}();e.exports=a}),null);
__d("useContentCollectionCreateMutation",["CometRelay","CometSaveCollectionConstants","CometSaveMutationHelper","FBLogger","WebPixelRatio","react","useCometSaveLoggingContext","useContentCollectionCreateMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=c("FBLogger")("save_oncall");function l(a){var b=a.get(d("CometRelay").VIEWER_ID);if(b==null)return;b=b.getLinkedRecord("saver_info");if(b==null)return;var c=a.getRootField("content_collection_create");if(c==null)return;c=c.getLinkedRecord("content_collection");if(c==null)return;d("CometSaveMutationHelper").addCollectionToConnections(a,c,b)}function a(){var a=c("useCometSaveLoggingContext")(),e=a.surface;a=d("CometRelay").useMutation(h!==void 0?h:h=b("useContentCollectionCreateMutation.graphql"));var f=a[0];a=a[1];var g=j(function(a){var b=a.callbacks,c=a.collectionTitle,g=a.contributorIDs,h=a.mechanism;a=a.templateID;var i=function(a){a=(a=a.content_collection_create)==null?void 0:(a=a.content_collection)==null?void 0:a.id;if(a==null)throw k.mustfixThrow("A successful create collection mutation must return the ID of the new collection");(b==null?void 0:b.onCompleted)!=null&&b.onCompleted(a)};g={contributorRoles:d("CometSaveCollectionConstants").COLLECTION_FACEPILE_CONTRIBUTORS_ROLES,input:{collection_title:c,contributor_ids:g,save_mechanism:h,save_surface:e,template_id:(c=a)!=null?c:d("CometSaveCollectionConstants").MANUAL_COLLECTION_TEMPLATE_ID},scale:d("WebPixelRatio").get()};return f({onCompleted:i,onError:b==null?void 0:b.onError,updater:l,variables:g})},[f,e]);return[g,a]}g["default"]=a}),98);
__d("CometSaveAddNewCollectionDialogPage.react",["fbt","CometColumn.react","CometColumnItem.react","CometComponentWithKeyCommands.react","CometKeys","CometSaveCollectionNameTextInput.react","FDSDialogConfirmationFooter.react","FDSDialogHeader.react","FDSDialogPage.react","cometPushToast","react","useContentCollectionCreateMutation","usePopPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useState;function a(a){a=a.props;var b=a.mechanism;a=a.onClose;var e=m(""),f=e[0];e=e[1];var g=c("usePopPage")(),i=c("useContentCollectionCreateMutation")(),n=i[0],o=i[1],p=k(function(a){n({callbacks:{onCompleted:function(){g==null?void 0:g(),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__octA9ae_vOd__JHASH__"))},onError:function(){g==null?void 0:g(),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__ufUI6qj6dTp__JHASH__"))}},collectionTitle:a,mechanism:b})},[n,b,g]);i=l(function(){return[{command:{key:c("CometKeys").ENTER},description:"Submit the form",handler:function(){if(f===""||o)return;p(f)},triggerFromInputs:!0}]},[f,o,p]);return j.jsx(c("FDSDialogPage.react"),{footer:j.jsx(c("FDSDialogConfirmationFooter.react"),{primary:{disabled:o||f==null||f.trim()==="",label:h._("__JHASH__5yKJyk4EUEd__JHASH__"),onPress:function(){return p(f)}},secondary:{label:h._("__JHASH__v1EJwiNkA82__JHASH__"),onPress:function(){return g==null?void 0:g()}}}),header:j.jsx(c("FDSDialogHeader.react"),{onClose:a,text:h._("__JHASH__T-P8YOKhSNa__JHASH__")}),children:j.jsx(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:20,children:j.jsx(c("CometColumnItem.react"),{children:j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:j.jsx(c("CometSaveCollectionNameTextInput.react"),{inputValue:f,isLoading:o,onChange:e})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("FDSPhotoPickerWithLoadingIndicator.react",["FDSPhotoPickerImagePreviewerWithLoadingIndicator.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");b=j.forwardRef(a);function a(a,b){var d=a.isLoading,e=a.loadedAccessibilityAlert,f=a.loadingAccessibilityAlert,g=a.fileSelectedAccessibilityAlert,i=a.onDelete,k=a.onFileSelected,l=a.onPhotoChange,m=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","loadedAccessibilityAlert","loadingAccessibilityAlert","fileSelectedAccessibilityAlert","onDelete","onFileSelected","onPhotoChange","xstyle"]);var n=function(a){a.stopPropagation();a.preventDefault();if(!c("gkx")("911")&&a.dataTransfer!=null){a=Array.from(a.dataTransfer.files);a=a[0];k==null?void 0:k(a)}};return j.jsx("div",{className:(h||(h=c("stylex")))(m),onDragOver:function(a){return a.preventDefault()},onDrop:n,children:j.jsx(c("FDSPhotoPickerImagePreviewerWithLoadingIndicator.react"),babelHelpers["extends"]({},a,{fileSelectedAccessibilityAlert:g,isLoading:d,loadedAccessibilityAlert:e,loadingAccessibilityAlert:f,onChange:function(a,b){a==null&&(i&&i()),l&&l(b)},onFileSelected:k,ref:b}))})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);